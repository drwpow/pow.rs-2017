<!doctype html>
<html lang="en-us">
  <head>
    <title>
      
        media queries are (still) aÂ hack // Drew Powers
      
    </title>
    <meta charset="utf-8"/>
    <meta content="The personal site of Drew Powers" name="description"/>
    <meta content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" name="viewport"/>
    <meta content="the personal site of Drew Powers" name="description"/>
    <meta content="Drew Powers" name="author"/>
    <meta content="#000" name="theme-color"/>
    <meta content="yes" name="apple-mobile-web-app-capable"/>
    <meta content="IE=Edge" http-equiv="x-ua-compatible"/>
    <link href="/blog/atom.xml" rel="alternate" title="RSS 2.0" type="application/rss+xml"/>
    <link href="/drew-monogram-black.png" rel="apple-touch-icon"/>
    <link href="/drew-monogram-black.png" rel="icon" type="image/png"/>
    <link href="https://pow.rs/styles.css?h=abe94a15b39abcff8364271242a05eb9539818ea9d9b4af11d6cfa5a4ba16e80" rel="stylesheet"/>
  </head>
  <body>
    <header class="header pa4">
  <a class="header-img" href="/">
    <svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
      <rect height="512" style="fill:var(--fg)" width="512"/>
      <rect height="45.7" style="fill:var(--bg)" width="60.6" x="182.4" y="333.7"/>
      <path
        d="M248.5,311.7h21.6c27,0,48.3-7.1,64-21.2c15.7-14.1,23.5-33.7,23.5-58.8c0-24.8-7.8-44.2-23.5-58.2 c-15.7-13.9-37-20.9-64-20.9h-87.8v159.1H248.5z
          M288.2,252.4c-5.4,4.8-12.4,7.1-21.1,7.1h-24.5v-54.7h24.6c8.6,0,15.7,2.4,21.1,7.1 s8.1,11.4,8.1,20.1C296.4,240.8,293.6,247.6,288.2,252.4z"
        style="fill:var(--bg)"/>
    </svg>
  </a>
  <h2 class="header-title">the personal site of Drew Powers</h2>
  <nav class="header-nav">
    <ul class="header-linklist">
      <li class="header-navitem">
        <a class="header-link" href="/">Projects</a>
      </li>
      <li class="header-navitem">
        <a class="header-link" href="/blog">Blog</a>
      </li>
      <li class="header-navitem">
        <a class="header-link" href="/about">About</a>
      </li>
    </ul>
  </nav>
</header>

    
  <div class="wrapper">
    <article class="post-body" itemscope itemtype="http://schema.org/BlogPosting">
      <header class="post-header">
        <div class="post-animation"><style>
.windows {
  position: relative;
  margin: 4rem auto;
  width: 180px;
  height: 96px;
}

@media (min-width: 600px) {
  margin: 0 auto;
}

.window {
  animation: shift 3s cubic-bezier(0.5, 0, 0.5, 1) infinite;
  border: 2px solid var(--bg);
  position: absolute;
  width: 180px;
  height: 64px;
  top: 0;
  left: 50%;
  margin-left: -90px;
  background: rgba(255, 0, 255, 0.2);
}

.window:nth-child(5) { animation-duration: 3s; }
.window:nth-child(4) { animation-duration: 5s; }
.window:nth-child(3) { animation-duration: 7s; }
.window:nth-child(2) { animation-duration: 11s; }
.window:nth-child(1) { animation-duration: 13s; }

@keyframes shift {
  50% {
    transform: scaleX(0.2);
  }
}
</style>

<div class="windows">
  <div class="window"></div>
  <div class="window"></div>
  <div class="window"></div>
  <div class="window"></div>
  <div class="window"></div>
</div>

<div class="art-meta">
  <div class="art-title">Sliding Shoji</div>
  <div class="art-description">Cicada Principle animation</div>
  <div class="art-year">2020</div>
</div>
</div>
        <h1 itemprop="headline">media queries are (still) aÂ hack</h1>
        <dl class="post-meta">
          <dt class="post-meta-key">published</dt>
          <dd class="post-meta-value">
            <time datetime="2020-01-18">18 Jan 2020</time>
          </dd><dt class="post-meta-key">tagged</dt>
          <dd class="post-meta-value"><a class="tag tag--dev" href="https:&#x2F;&#x2F;pow.rs/tag/dev" href="https://pow.rs/tags/dev/">dev</a></dd>
        </dl>
      </header>
      <div itemprop="articleBody">
        <p>After 15 years of working with CSS, media queries still donâ€™t do enough for me to create responsive
designs. To express my frustrations, I had written about half of a blog post under the title <em>Media
Queries are a Hack</em> before I discovered <a href="https://ianstormtaylor.com/media-queries-are-a-hack/">that title had been taken</a>. In <strong>2013</strong>. Clearly Iâ€™m
not as original as I think I am.</p>
<p>Ian Storm Taylor, the author of that post, summarizes the major failing of media queries:</p>
<blockquote>
<p>I want <strong>write-once, use-anywhere</strong>â€”thatâ€™s what modular code is.</p>
<p>Media queries are not that. Theyâ€™re <strong>write-everywhere</strong>. Theyâ€™re relative to your screen, so
every time you write a media query for max-width or min-width, youâ€™re connecting the appearance of
your module to the width of the entire canvasâ€”exactly what you were trying to avoid.</p>
</blockquote>
<p>This has only become more true and more of a problem in our React-influenced,
<em>everything-is-modular</em> landscape of contemporary web design. And this lack of component-oriented
thinking lead Ian to pine for what we all doâ€”Container Queries.</p>
<h2 id="container-queries"><a class="zola-anchor" href="#container-queries" aria-label="Anchor link for: container-queries">ğŸ”—</a>container queries?</h2>
<p>If, for example, I have a user card component that I want to rearrange when thereâ€™s not enough room,
I can only do that based on the browser width, <strong>not the component width itself.</strong></p>
<figure>
  <img src="/assets/posts/media-queries-are-still-a-hack/user-cards.svg" alt="A horizontally-laid out user card next to a vertical one" />
  <figcaption>What if I wanted to stack a card vertically not based on screen width, but based on whether or not the text and image will fit side-by-side? In 2020, I still canâ€™t.</figcaption>
</figure>
<p>Container Queries seem to check off all the boxes:</p>
<ul>
<li>âœ… Modular and composable</li>
<li>âœ… Attack the root problem of responsive design: resizing based on <strong>content</strong></li>
<li>âœ… CSS-based</li>
</ul>
<p>But perfect as they may be, Container Queries are not happening anytime soon. In Zach Leathermanâ€™s
recent article <a href="https://www.zachleat.com/web/origin-container-queries/"><em>The Origin Story of Container Queries</em></a>, after much research, he even admits
the grim reality of our beloved Container Queries:</p>
<blockquote>
<p>[Container Queries] become almost clichÃ© to mention it when talking about problems weâ€™d like the
web platform to solveâ€¦ Everyone wants it, but it sure seems like no one is actively working on it.</p>
</blockquote>
<p>So whatâ€™s a person to do?</p>
<h2 id="css-grid-repeat-auto-fit-minmax"><a class="zola-anchor" href="#css-grid-repeat-auto-fit-minmax" aria-label="Anchor link for: css-grid-repeat-auto-fit-minmax">ğŸ”—</a>css grid repeat(auto-fit, minmax())?</h2>
<p>If youâ€™ve used CSS Grid, you may be familiar with this wonderful snippet:</p>
<pre style="background-color:#2b303b;">
<code><span style="color:#8fa1b3;">.</span><span style="color:#d08770;">grid </span><span style="color:#c0c5ce;">{
  display: grid;
  grid-gap: </span><span style="color:#d08770;">1rem</span><span style="color:#c0c5ce;">;
  grid-template-columns: </span><span style="color:#96b5b4;">repeat</span><span style="color:#c0c5ce;">(auto-fit, </span><span style="color:#96b5b4;">minmax</span><span style="color:#c0c5ce;">(</span><span style="color:#d08770;">300px</span><span style="color:#c0c5ce;">, </span><span style="color:#d08770;">1fr</span><span style="color:#c0c5ce;">));
}
</span></code></pre>
<p>I was first introduced to this by <a href="https://labs.jensimmons.com/2017/03-009.html">Jen Simmons</a>â€™ wonderful demo. With only 3 lines of CSS, we
have something that used to take hundreds:</p>
<ul>
<li>Responsive without any media queries</li>
<li>Gutters built-in ğŸ˜</li>
<li>And last, but most importantly, <strong>items that resize based on their width</strong> (kinda sounds like
Container Queries, donâ€™t it?)</li>
</ul>
<p>But despite being incredibly-useful, CSS Gridâ€™s <code>repeat(auto-fit, minmax())</code> has 2 major drawbacks:</p>
<ul>
<li>ğŸš« It canâ€™t be used on the component level like a Container Query could, so components canâ€™t
declare their own widths and breakpoints; their parents must.</li>
<li>ğŸš« It doesnâ€™t allow for columns of different widths. Neither can you tell items to responsively
span multiple columns without media queries (and if weâ€™re using media queries weâ€™re all the way
back to where we started).</li>
</ul>
<h2 id="container-queries-1"><a class="zola-anchor" href="#container-queries-1" aria-label="Anchor link for: container-queries-1">ğŸ”—</a>container queries.</h2>
<p>Itâ€™s really hard to make a better pitch than Container Queries as a solution to the problem of
modular responsive design, after <strong>7 years</strong> and hundreds of great minds have all shared their
collective vision of how this holy-grail-of-a-CSS-selector should work. There are no downsides to
Container Queries, other than the belabored point that <em>they donâ€™t exist</em>.</p>
<p>So in parting, as I alluded to earlier, I will leave you, dear reader, with nary an original
thought, instead, rehashing my favorite line from Phillip Waltonâ€™s well-referenced <a href="https://philipwalton.com/articles/responsive-components-a-solution-to-the-container-queries-problem/"><em>Responsive
Components: A Solution to the Container Queries Problem</em></a>:</p>
<blockquote>
<p>While I think weâ€™d all agree a pure CSS solution is the ultimate goal, I hope we as a community
are able prevent the perfect from becoming the enemy of the good.</p>
<p>In matters like this, I like to remind myself of this quote from the <a href="https://www.w3.org/TR/html-design-principles/">W3Câ€™s HTML design
principles</a>: â€œIn case of conflict, consider users over authors over implementors over
specifiers over theoretical purity.â€</p>
</blockquote>
<p>In other words, in 2020, <strong>the best solution we have to media queriesâ€™ failings is JavaScript.</strong></p>
<p>But not JavaScript for the sake of JavaScript; JavaScript for the sake of users.</p>
<p>Itâ€™s been 7 years since Ian Storm Taylor published <em>Media Queries are a Hack</em>. And unfortunately, in
2020, theyâ€™re <em>still</em> a hack. And weâ€™re still waiting on Container Queries.</p>
<p>I may not have any original ideas on this subject, but at least weâ€™re all on the same page.</p>
<h2 id="more-reading"><a class="zola-anchor" href="#more-reading" aria-label="Anchor link for: more-reading">ğŸ”—</a>more reading</h2>
<ul>
<li><a href="https://ianstormtaylor.com/media-queries-are-a-hack/">Media Queries are a Hack</a> (the real one)</li>
<li><a href="https://philipwalton.com/articles/responsive-components-a-solution-to-the-container-queries-problem/">Responsive Components: A Solution to the Container Queries Problem</a></li>
<li><a href="https://css-tricks.com/lets-not-forget-about-container-queries/">Letâ€™s Not Forget About Container Queries</a></li>
<li><a href="https://www.zachleat.com/web/origin-container-queries/">The Origin Story of Container Queries</a></li>
</ul>

      </div>
    </article>
  </div>

    <footer class="pa4 footer">
  <a class="footer-link" href="blog/rss.xml">
    <svg aria-label="rss" class="icon mr1r" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <g clip-rule="evenodd" fill-rule="evenodd">
        <path d="M3 11a1 1 0 011-1 10 10 0 0110 10 1 1 0 11-2 0 8 8 0 00-8-8 1 1 0 01-1-1z"></path>
        <path d="M3 4a1 1 0 011-1 17 17 0 0117 17 1 1 0 11-2 0A15 15 0 004 5a1 1 0 01-1-1zM3 19a2 2 0 114 0 2 2 0 01-4 0z"></path>
      </g>
    </svg>
    RSS
  </a>
  /
  <a class="footer-link" href="blog/feed.json">
    <svg aria-label="rss" class="icon mr1r" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <g clip-rule="evenodd" fill-rule="evenodd">
        <path d="M3 11a1 1 0 011-1 10 10 0 0110 10 1 1 0 11-2 0 8 8 0 00-8-8 1 1 0 01-1-1z"></path>
        <path d="M3 4a1 1 0 011-1 17 17 0 0117 17 1 1 0 11-2 0A15 15 0 004 5a1 1 0 01-1-1zM3 19a2 2 0 114 0 2 2 0 01-4 0z"></path>
      </g>
    </svg>
    JSON
  </a>
  /
  <a class="footer-link" href="https://github.com/drwpow/blog">
    <svg aria-label="github" class="icon mr1r" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
      <g clip-path="url(#clip0)">
        <path d="M16 23c-.6 0-1-.4-1-1v-3.9c0-.4 0-.7-.1-1.1-.1-.3-.3-.6-.5-.8-.3-.3-.4-.7-.2-1 .2-.3.5-.6.8-.7 2.9-.3 5.6-1.3 5.6-6 0-1.1-.4-2.2-1.2-3.1-.3-.3-.3-.7-.2-1
          .3-.8.3-1.6.1-2.4-.5.1-1.3.4-2.6 1.3-.2.2-.5.2-.8.1-2.1-.6-4.4-.6-6.5 0-.4.1-.7.1-1-.1-1.2-.8-2.1-1.1-2.6-1.2-.2.7-.2 1.6.1 2.3.1.4.1.8-.2 1-.8.9-1.2 2-1.2 3.2 0 4.7 2.7 5.7 5.6 6
          .4 0 .7.3.8.7.1.4 0 .8-.2 1-.2.2-.4.5-.5.8-.2.3-.2.7-.2 1V22c0 .6-.4 1-1 1s-1-.4-1-1v-1.7c-3 .5-4.3-1.2-5.2-2.3-.4-.5-.7-.9-1.1-1-.5-.1-.9-.7-.7-1.2.1-.5.7-.9 1.2-.7 1 .3 1.6 1 2.2
          1.7.8 1.1 1.5 1.9 3.6 1.5v-.1c0-.5 0-1.2.3-1.7v-.1c-2.8-.6-5.8-2.4-5.8-7.7 0-1.5.5-2.9 1.4-4-.4-1.4-.3-2.8.3-4.1.1-.3.3-.5.6-.6.4 0 1.7-.2 4.4 1.4 2.2-.5 4.5-.5 6.6 0 2.6-1.7 4-1.5
          4.4-1.4.3.1.5.3.6.6.5 1.3.6 2.6.3 3.9.9 1.1 1.4 2.5 1.4 4 0 5.7-3.4 7.2-5.8 7.8v.1c.3.6.3 1.2.3 1.8V22c0 .6-.4 1-1 1z"></path>
      </g>
      <defs>
        <clipPath id="clip0">
          <path d="M0 0h24v24H0V0z"></path>
        </clipPath>
      </defs>
    </svg>
    GitHub
  </a>
  <br/> this website is encrypted and 100% analytics-free.<br/> built with
  <a href="https://www.getzola.org" rel="noopener noreferrer" target="_blank">Zola</a>, a full-featured Rust-powered static-site generator.<br/> if youâ€™d like to support this site, tweet or share&nbsp;a&nbsp;link!
  <div class="footer-theme">
    <div class="toggle">
      <input class="toggle-input" id="theme-switcher" type="checkbox" value="dark-mode"/>
      <label class="toggle-label" for="theme-switcher">dark theme</label>
    </div>
  </div>
  <script src="/assets/darkmode.js"></script>
</footer>

  </body>
</html>
