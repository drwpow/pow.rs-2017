---
import BlogPost from '../../components/BlogPost.astro';
import Head from '../../components/Head.astro';
import Footer from '../../components/Footer.astro';
import Nav from '../../components/Nav.astro';
import { sortPosts } from '../../helpers/date.ts'

let title = 'blog';
let blogPosts = Astro.fetchContent('./*.md');
sortPosts(blogPosts);
---
<html lang="en-us">
  <head>
    <Head title={title} />
  </head>

  <body>
    <Nav />

    <div class="wrapper" itemscope itemtype="https://schema.org/Blog">
      {blogPosts.map((blogPost) => (
        <BlogPost post={blogPost} />
      ))}
    </div>

    <Footer />
  </body>
</html>
